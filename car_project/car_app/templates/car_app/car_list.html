{% extends 'car_app/base.html' %}
{% load custom_filters %}

{% block content %}
<div class="row align-items-start">

  <div class="col-8">

    <div class="card">

      <div class="card-header bg-info d-flex justify-content-between align-items-center">
        <h5 class="p-0 m-0"> All Car List </h5>
        <div class="d-flex align-items-center">
          <input id="searchbox" type="search" class="form-control form-control-sm" placeholder="Search..."
            aria-label="Search">
        </div>
      </div>

      <div class="card-body pb-0">
        <nav aria-label="Page navigation example">
          <ul class="pagination">
            {% if page_obj.has_previous %}
            <li class="page-item">
              <a class="page-link" href="?page=1" aria-label="First">
                <span aria-hidden="true">&laquo;&laquo;</span>
                <span class="sr-only">First</span>
              </a>
            </li>
            <li class="page-item">
              <a class="page-link" href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
              </a>
            </li>
            {% endif %}

            {% for num in page_obj.paginator.page_range %}
            <li class="page-item {% if page_obj.number == num %}active{% endif %}">
              <a class="page-link" href="?page={{ num }}">{{ num }}</a>
            </li>
            {% endfor %}

            {% if page_obj.has_next %}
            <li class="page-item">
              <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
              </a>
            </li>
            <li class="page-item">
              <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}" aria-label="Last">
                <span aria-hidden="true">&raquo;&raquo;</span>
                <span class="sr-only">Last</span>
              </a>
            </li>
            {% endif %}
          </ul>
        </nav>

      </div>


      <div class="card-body p-0" style="min-height:calc(100vh - 300px);max-height:calc(100vh - 300px)">
        <table class="oc-table">
          <thead>
            <tr>
              <th>car_id</th>
              <th>Date</th>
              <th>Brand</th>
              <th>Make</th>
              <th>Model</th>
              <th>Year</th>
              <th>Engine Size</th>
              <th>Horsepower</th>
              <th>Price</th>
            </tr>
          </thead>

          <tbody class="table_filter">
            {% for car in page_obj %}
            <tr id="carid_{{ car.car_id }}" class="">
              <td>{{ car.car_id }}</td>
              <td>{{ car.date }}</td>
              <td>{{ car.brand }}</td>
              <td>{{ car.make }}</td>
              <td>{{ car.model }}</td>
              <td>{{ car.year }}</td>
              <td>{{ car.engine_size }}</td>
              <td>{{ car.horsepower }}</td>
              <td>{{ car.price }}</td>
              <td hidden><input type="text" hidden id="carimages_{{ car.car_id }}" value="{{ car.image_names }}"></td>

            </tr>

            {% endfor %}


          </tbody>

        </table>
      </div>



    </div>

  </div>

  <div class="col">

    <div class="card">
      <div class="card-header bg-info">
        Car Images
      </div>
      <div class="card-body p-1 overflow-auto" style="min-height:calc(100vh - 224px);max-height:calc(100vh - 224px)"
        id="selected_car_images">
        <h5 id="all_image_list_header" class="card-title">Click a car to view the Car Images</h5>

        <!-- <img src="/media/{{ image }}" class="" alt="Image Not Available"> -->
        <!-- <img src="/media/1.jpeg" class="img-fluid mb-2" alt="Image Not Available">
        <img src="/media/2.jpeg" class="img-fluid mb-2" alt="Image Not Available">
        <img src="/media/3.jpeg" class="img-fluid mb-2" alt="Image Not Available">
        <img src="/media/4.jpeg" class="img-fluid mb-2" alt="Image Not Available"> -->


      </div>
    </div>

  </div>

</div>



{% endblock %}